= Instructions for Running TOPS =

TOPS consists of a number of processes that provide core and project-specific services. Processes can be distributed across multiple hosts but, for the best performance and easiest management, should all be run on a single multi-core host. The only exceptions are any services that need direct access to resources on a remote host, such as a particular serial port.

The top-level start program launches all the services specified in the [RuntimeConfiguration run-time configuration] files on a single host. The start program is a simple shell wrapper around the start.py python program. The start program can be run from any working directory, so the following are all equivalent (assuming that the given path to the start program is valid in each case):
{{{
% ./start
% ./tops/start
% /usr/local/lib/tops/start
}}}
You should generally not set the PYTHONPATH environment variable before running the start program. In case you do, its value will override the default setting.

For help on the available command-line options, use:
{{{
% start --help
Usage: start [options]

Options:
  -h, --help         show this help message and exit
  --verbose          generate verbose output
  --project=PROJECT  python module path of project to start, e.g., tops.sdss3
  --config=CONFIG    path of an INI file containing run-time configuration
                     parameters

}}}
Most run-time configuration is obtained from the [RuntimeConfiguration INI files], so you will normally only need to specify the project you wish to start, e.g.
{{{
% start --project tops.sdss3
}}}
The project is specified as a fully-qualified python module path. The corresponding filesystem path will be searched for any project-specific run-time initialization. As long as your project is under the top-level tops module, you do not need to set PYTHONPATH before running the start program.

In case you need to override any of the default [RuntimeConfiguration run-time parameter], use the --config option to specify an INI file that is added to the end of the configuration parameter search path.